<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Gauge Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="script.js"></script>

    <script src="gauge.min.js"></script>
    <style>body {
        padding: 0;
        margin: 0;
        background: #ffffcc
    }</style>
</head>
<body>

    <div class="text-center">
        <canvas  
             data-type="radial-gauge"
             data-animation-duration="500"
             data-min-value="0"
             data-max-value="100000"
             data-major-ticks="0,10000,20000,30000,40000,50000,60000,70000,80000,90000,100000"
             data-exact-ticks="true"
             data-minor-ticks="2000"
             data-highlights='[
             {"from": "", "to": "", "color": "rgba(0,0, 255, .6"},      
             {"from": "", "to": "", "color": "rgba(255, 0, 0, .7)"}
             ]'
             data-width="600"
             data-height="600"
             data-start-angle="0"
             data-ticks-angle="360"
             data-value-box= "false"

        ></canvas>
        <div >
            <p style="font-size:120% ; display:inline; font-weight: bold; color: rgb(45, 45, 192);">Value</p>
            <input type="number" class="" min="0" max="100000" id="gauge" oninput="animateGauges(this.value,0)">
        </div>
    </div>

    <script>
        if (!Array.prototype.forEach) {
            Array.prototype.forEach = function(cb) {
                var i = 0, s = this.length;
                for (; i < s; i++) {
                    cb && cb(this[i], i, this);
                }
            }
        }
        
        document.fonts && document.fonts.forEach(function(font) {
            font.loaded.then(function() {
                if (font.family.match(/Led/)) {
                    document.gauges.forEach(function(gauge) {
                        gauge.update();
                    });
                }
            });
        });
        
        var timers = [];
        
        function animateGauges(value,index) {
        document.gauges[index].value = value;
        document.gauges[index].animation.update ;
        }
        
        function stopGaugesAnimation() {
            timers.forEach(function(timer) {
                clearInterval(timer);
            });
        }
        </script>
        </body>
        </html>