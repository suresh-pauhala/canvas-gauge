<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mocha/1.0.2/package/lib/browser/fs.min.js"></script>
<input type="button" name="Click Me" onclick="abc()"  id="" value="Click Me">
</head>
<body>

<script>
    function abc(){
const rows = [
    ["name1", "city1", "some other info"],
    ["name2", "city2", "more info"]
];

let csvContent = "data:text/csv;charset=utf-8,";

rows.forEach(function(rowArray) {
    let row = rowArray.join(",");
    csvContent += row + "\r\n";
});
var encodedUri = encodeURI(csvContent);
var link = document.createElement("a");
link.setAttribute("href", encodedUri);
link.setAttribute("download", "my_data.csv");
document.body.appendChild(link); // Required for FF

link.click();
}

// var x=LinkCheck("file:///S:/canvas-gauges/canvas-gauges/milestone2/script.js");

// if (x)
// { 
//     alert("File Exists"); 
// } 
// else
//  { 
//      alert("File Doesn't exist"); 
//  }
//  function LinkCheck(url)
// {
//     var http = new XMLHttpRequest();
//     http.open('HEAD', url, false);
//     http.send();
//     return http.status!=404;
// }
    // Open a log file
// var myLog = new File("/data/logs/today.log");

// // See if the file exists
// if(myLog.exists()){
//   write('The file exists');
// }else{
//   write('The file does not exist');
// }


    // url="script.js";
    // url+="?"+new Date().getTime()+Math.floor(Math.random()*1000000);
    // var el=document.createElement('script');

    // el.id="123";
    // el.onerror=function(){console.log("file not exist")}
    // el.src=url;
    // document.body.appendChild(el);
    // console.log(el)


// Open a log file

// var homeDir = Titanium.Filesystem.getUserDirectory();
// var mySampleFile = Titanium.Filesystem.getFile(homeDir, 'script.js');

// if (mySampleFile.exists()) {
//     alert('A file called sample.txt already exists in your home directory.');

// }
// var myLog = new File("S:/canvas-gauges/canvas-gauges/milestone2/scipt.js");

// // See if the file exists
// if(myLog.exists()){
//   write('The file exists');
// }else{
//   write('The file does not exist');
// }



 
// function checkFileExist(urlToFile) {
//     var xhr = new XMLHttpRequest();
//     xhr.open('HEAD', urlToFile, false);
//     xhr.send();
//     console.log(xhr)
//     if (xhr.status == "404") {
//         return false;
//     } else {
//         return true;
//     }
// }
 
// // Calling function
// // set the path to check
// var result = checkFileExist("S:\canvas-gauges\canvas-gauges\milestone2\script.js");
 
// if (result == true) {
//     alert('yay, file exists!');
// } else {
//     alert('file does not exist!');
// }


    </script>
    
</body>
</html>
